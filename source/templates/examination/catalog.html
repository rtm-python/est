{%- extends "layout.html" -%}
{% set title -%}{{ __('Catalog') }}{%- endset %}
{%- block body_content -%}
	<h1 style="margin-top: 10px;">{{ __('Catalog') }}</h1>
	{%- include 'examination/filter.html' -%}
	{%- for item in examinations -%}
		<div class="list-group list-group-flush">
			<a href="{{ url_for('examination.get_examination', uid=item.uid) }}" class="list-group-item list-group-item-action" style="padding-bottom: 25px;">
				<div class="d-flex w-100 justify-content-between">
					<h5 class="mb-1">{{ item.name }}</h5>
					<small>{{ item.plugin }}</small>
				</div>
				<small>{{ item.options }}</small>
				<p class="lb-1">{{ item.description }}</p>
				<div class="progress" style="height: 3px;">
					<div class="progress-bar" role="progressbar" style="width: {{ item.score }}%" area-valuenow="{{ item.score }}" area-valuemin="0" area-valuemax="100"></div>
				</div>
				<small class="timestamp d-flex justify-content-end">{{ item.passed }}</small>
			</a>
		</div>
	{%- endfor -%}
	<small class="d-flex justify-content-start">{{ caption }}</small>
	{%- include 'paginator.html' -%}
{%- endblock -%}
{%- block body_script -%}
	<script type="text/javascript">
		var elements = $(".timestamp");
		var user_tz = moment.tz.guess();

		for (var i = 0; i < elements.length; i++) {
			elements[i].textContent = moment(elements[i].textContent + "+00:00").tz(user_tz).format('HH:mm:ss DD MMMM YYYY, dddd');
		}
	</script>
{%- endblock -%}

