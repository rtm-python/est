{%- extends "layout.html" -%}
{% set title -%}{{ process.name }}{%- endset %}
{%- block body_content -%}
	<div class="mt-3 d-flex w-100 justify-content-between">
		<h2>{{ process.name }}</h2>
		<small>{{ process.plugin }}</small>
	</div>
	<div class="align-items-center mb-3 d-flex w-100 justify-content-between">
		<h3 class="m-0">{{ process.answer_count }}/{{ process.repeat }}</h3>
		<a href="{{ url_for('examination.stop_process', uid=process.uid) }}" class="btn btn-sm btn-outline-dark">{{ __('Exit...') }}</a>
	</div>
	<div class="progress" style="height: 3px;">
		<div class="progress-bar" role="progressbar" style="width: {{  process.answer_count / process.repeat * 100 }}%" area-valuenow="{{  process.answer_count / process.repeat * 100 }}" area-valuemin="0" area-valuemax="100"></div>
	</div>
	<div class="my-5 col-12 col-sm-10 offset-sm-1 col-md-8 offset-md-2 col-lg-6 offset-lg-3">
		<div class="card text-center">
			<div class="card-body">
				{%- include 'plugin/' + process.plugin + '.html' -%}
				<hr/>
				<form class="col-12 col-sm-8 offset-sm-2 col-md-6 offset-md-3" actions="" method="post">
					{{ player.csrf_token }}
					<div class="form-row">
						<div class="text-left col-12 mb-2">
							<small>{{ __('Answer') }}</small>
							<input autofocus id="answer" type="text" class="w-100 form-control{%- if player.answer.errors -%}{{ ' is-invalid' }}{%- endif -%}" name="answer" placeholder="{{ __('Answer') }}" value="{{ player.answer.data|default('', True) }}" />
							{%- for error in player.answer.errors -%}
								<div class="invalid-feedback">
									{{ __(error) }}
								</div>
							{%- endfor -%}
						</div>	
						<div class="col-12 my-2">
							<button type="submit" class="btn btn-block btn-outline-dark">{{ __('Submit') }}</button>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
{%- endblock -%}
